<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CRUD</title>
  <!-- Bootstrap CSS File  -->
  <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
  <script src="/a/lib/js/xData.js"></script>
</head>
<body>

<!-- Content Section -->
<div class="w3-container w3-content w3-center w3-padding-32" style="max-width:800px">
  <h2>Demo CRUD with Modal</h2>
  <button onclick="document.getElementById('modalAdd').style.display='block'" class="w3-btn w3-green w3-large">Crear Registro</button>
  <div class="w3-container">
    </br>
	<table id="id01" class="w3-table-all w3-centered w3-hoverable">
	  <tr class="w3-blue">
	  	<th>First Name</th>
	  	<th>Last Name</th>
	  	<th>Email Address</th>
	  	<th>Update</th>
	  	<th>Delete</th>
	  </tr>
      <tr id="{{id}}" x-repeat="records">
        <td>{{first_name}}</td>
        <td>{{last_name}}</td>
        <td>{{email}}</td>
		<td class="w3-hover-green w3-text-green" style="width:30px">
			<a onclick="GetUserDetails('{{id}}')"><i class="fa fa-edit w3-xlarge"></i></a>
		</td>
		<td class="w3-hover-red w3-text-red" style="width:30px">
			<a onclick="DeleteUser({{id}})"><i class="fa fa-user-times w3-xlarge"></i></a>
		</td>
      </tr>
    </table>
  </div>
</div>
<!-- /Content Section -->


<!-- Modals -->
<!-- Modal - Add -->
<div id="modalAdd" class="w3-modal">
  <div class="w3-modal-content w3-card-8 w3-animate-zoom" style="max-width:400px">
    <div class="w3-center"><br>
      <span onclick="document.getElementById('modalAdd').style.display='none'" class="w3-closebtn w3-hover-red w3-container w3-padding-8 w3-display-topright" title="Close Modal">&times;</span>
    </div>
    <form class="w3-container">
      <div class="w3-section">
        <label><b>First Name</b></label>
        <input class="w3-input w3-border w3-margin-bottom" type="text" placeholder="First Name" id="first_name" required>
        <label><b>Last Name</b></label>
        <input class="w3-input w3-border w3-margin-bottom" type="text" placeholder="Last Name" id="last_name" required>
        <label><b>Email Address</b></label>
        <input class="w3-input w3-border w3-margin-bottom" type="text" placeholder="Email Address" id="email" required>
        <div class="w3-row-padding">        
          <div class="w3-twothird">
            <button  onclick="addUserRecord()" class="w3-btn-block w3-green w3-section w3-padding" type="submit">Crear el Registro</button>
          </div>
          <div class="w3-third">
            <button onclick="document.getElementById('modalAdd').style.display='none'" type="button" class="w3-btn-block w3-red w3-section w3-padding">Cancel</button>
          </div>        
        </div>               
      </div>
    </form>
  </div>
</div>
<!--/Modal - Add -->

<!-- Modal - Update -->
<div id="modalUpd" class="w3-modal">
  <div class="w3-modal-content w3-card-8 w3-animate-zoom" style="max-width:400px">
    <div class="w3-center"><br>
      <span onclick="document.getElementById('modalUpd').style.display='none'" class="w3-closebtn w3-hover-red w3-container w3-padding-8 w3-display-topright" title="Close Modal">&times;</span>
    </div>
    <form class="w3-container">
      <div class="w3-section">
        <label><b>First Name</b></label>
        <input class="w3-input w3-border w3-margin-bottom" type="text" placeholder="First Name" id="upd_first_name" required>
        <label><b>Last Name</b></label>
        <input class="w3-input w3-border w3-margin-bottom" type="text" placeholder="Last Name" id="upd_last_name" required>
        <label><b>Email Address</b></label>
        <input class="w3-input w3-border w3-margin-bottom" type="text" placeholder="Email Address" id="upd_email" required>
        <div class="w3-row-padding">        
          <div class="w3-twothird">
            <button  onclick="UpdateUserDetails()" class="w3-btn-block w3-green w3-section w3-padding" type="submit">Actualizar Registro</button>
          </div>
          <div class="w3-third">
            <button onclick="document.getElementById('modalUpd').style.display='none'" type="button" class="w3-btn-block w3-red w3-section w3-padding">Cancel</button>
          </div>        
          <input type="hidden" id="hidden_user_id">
        </div>               
      </div>
    </form>
  </div>
</div>
<!--/Modal - Update -->

<!-- Jquery JS file -->
<script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>

<script>
xHttp("ajax/readUsers.php", function () {
    if (this.readyState == 4 && this.status == 200) {
        var myObject = JSON.parse(this.responseText);
        xDisplayData("id01", myObject);
    }
});

</script>

<!-- Custom JS file -->
<script type="text/javascript" src="crud-Users.js"></script>

</body>
</html>
